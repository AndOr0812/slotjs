<!doctype html><html lang="en"><head><meta charset="utf-8"><title>SlotJS / Circular slot machine built with JavaScript & Emojis!</title><meta property="og:title" content="SlotJS / Circular slot machine built with JavaScript & Emojis!"><meta property="og:description" content="üé∞ Circular slot machine mobile-first SPA built with JavaScript, CSS variables and Emojis!"><meta property="og:image" content="https://danziger.github.io/slotjs/screenshots/slotjs.png"><meta property="og:image:width" content="928"><meta property="og:image:height" content="928"><meta property="og:image:alt" content="SlotJS / Circular slot machine built with JavaScript & Emojis!"><meta property="og:url" content="https://danziger.github.io/slotjs/"><meta name="twitter:card" content="https://danziger.github.io/slotjs/screenshots/slotjs.png"><link rel="canonical" href="https://danziger.github.io/slotjs/"><meta name="author" content="Daniel G√°mez Franco"><meta name="description" content="üé∞ Circular slot machine mobile-first SPA built with JavaScript, CSS variables and Emojis!"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel="shortcut icon" href="./favicon.ico"><style>.sm__base{--wrapperSize:100%;--reelSize:32px;--displaySize:96px;--displayZoom:2;--shadowWeight:1;position:relative;width:var(--wrapperSize);height:var(--wrapperSize);box-sizing:border-box;pointer-events:none;-webkit-transform-origin:left center;transform-origin:left center;will-change:transform}.sm__base.has-zoom{-webkit-transform:scale(var(--displayZoom));transform:scale(var(--displayZoom))}.sm__reelsContainer{position:relative;width:100%;height:100%}.sm__reel{--i:0;--bg:transparent;position:absolute;top:calc(var(--index)*var(--reelSize));left:calc(var(--index)*var(--reelSize));width:calc(100% - var(--index)*2*var(--reelSize));height:calc(100% - var(--index)*2*var(--reelSize));background:var(--bg);border-radius:100%;overflow:hidden;box-shadow:0 0 calc(var(--shadowWeight)*var(--reelSize)) 0 rgba(0,0,0,.125);will-change:transform}.sm__reel:first-child,.sm__reel:last-child{box-shadow:none}.sm__cell{position:absolute;height:var(--reelSize);line-height:var(--reelSize);font-size:calc(var(--reelSize)/2);top:50%;left:0;width:50%;margin-top:calc(var(--reelSize)/-2);-webkit-transform-origin:center right;transform-origin:center right}.sm__cell--has-shadow{transition:opacity .125s linear}.is-stop .sm__cell--has-shadow{opacity:0!important}.sm__cell--has-blur{-webkit-filter:blur(calc(var(--reelSize)/8));filter:blur(calc(var(--reelSize)/8))}.sm__figure{display:inline-block;text-align:center;width:var(--reelSize)}.sm__display{position:absolute;top:50%;left:0;width:var(--displaySize);height:var(--reelSize);margin-top:calc(var(--reelSize)/-2)}.sm__display--background{z-index:-1}.sm__display--shadow{border-radius:0 0 2px 2px;box-shadow:0 calc(var(--reelSize)/2) calc(var(--shadowWeight)*var(--reelSize)) calc(var(--reelSize)/-8) rgba(0,0,0,.25)}.app__base{position:relative;display:flex;flex-direction:column;justify-content:space-between;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;max-width:800px;margin:0 auto;font-size:16px;line-height:16px}.app__header{box-shadow:0 64px 128px -40px rgba(0,0,0,.25)}.app__title{padding:24px 16px;margin:0;font-weight:700;font-size:24px;line-height:24px;text-align:center}.app__state{margin:0;list-style:none;padding:0;justify-content:center}.app__prop,.app__state{display:flex;overflow:hidden}.app__prop{width:33.33333333%;box-sizing:border-box;padding:8px}.app__prop+.app__prop{border-left:1px solid #f0f0f0}.app__icon{padding:8px 16px 8px 8px}.app__value{flex:1 0 auto;background:#f0f0f0;border-radius:2px;padding:8px}.app__main{position:relative;flex:1 0 auto;height:0;overflow:hidden;display:flex}.app__link,.app__main{padding:16px;align-items:center;justify-content:center}.app__link{text-align:center;font-size:13px;line-height:13px;border-top:1px solid #f0f0f0;display:block;text-decoration:none;color:#000;text-transform:uppercase;display:flex}.app__linkIcon{margin-right:8px}.app__linkUnderline{box-shadow:0 1px 0 0 #00f}.app__link:hover>.app__linkUnderline{box-shadow:0 2px 0 0 #00f}body{margin:0;min-height:100vh;font-family:monospace}</style></head><body class="app__base"><header class="app__header"><h1 class="app__title"><span role="img" aria-label="Slot Machine">üé∞</span> SlotJS</h1><ul class="app__state"><li class="app__prop"><span class="app__icon" role="img" aria-label="Coins">üí∂</span> <span class="app__value" id="coins">0</span></li><li class="app__prop"><span class="app__icon" role="img" aria-label="Jackpot">üíé</span> <span class="app__value" id="jackpot">0</span></li><li class="app__prop"><span class="app__icon" role="img" aria-label="Spins">üé≤</span> <span class="app__value" id="spins">0</span></li></ul></header><main class="app__main" id="main"><section class="sm__base"><div class="sm__display sm__display--background"></div><div class="sm__reelsContainer"></div><div class="sm__display sm__display--shadow"></div></section></main><footer class="app__footer"><a class="app__link" href="https://github.com/Danziger/slotjs"><span class="app__linkIcon" role="img" aria-label="Code">üë®‚Äçüíª</span> <span class="app__linkUnderline">Check it out on GitHub</span></a></footer><script>!function(e){var o={};function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)r.d(e,o,function(t){return n[t]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="./",r(r.s=29)}([function(t,n,e){var o=e(18)("wks"),r=e(7),i=e(1).Symbol,s="function"==typeof i;(t.exports=function(t){return o[t]||(o[t]=s&&i[t]||(s?i:r)("Symbol."+t))}).store=o},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n,e){var o=e(8),r=e(22);t.exports=e(4)?function(t,n,e){return o.f(t,n,r(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){t.exports=!e(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n){var e=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=e)},function(t,n){var e=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+o).toString(36))}},function(t,n,e){var o=e(9),r=e(31),i=e(32),s=Object.defineProperty;n.f=e(4)?Object.defineProperty:function(t,n,e){if(o(t),n=i(n,!0),o(e),r)try{return s(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var o=e(3);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports={}},function(t,n,e){var o=e(34),r=e(12);t.exports=function(t){return o(r(t))}},function(t,n){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,e){var v=e(1),y=e(6),m=e(2),S=e(14),_=e(36),g="prototype",O=function(t,n,e){var o,r,i,s,a=t&O.F,u=t&O.G,c=t&O.S,l=t&O.P,f=t&O.B,h=u?v:c?v[n]||(v[n]={}):(v[n]||{})[g],p=u?y:y[n]||(y[n]={}),d=p[g]||(p[g]={});for(o in u&&(e=n),e)i=((r=!a&&h&&void 0!==h[o])?h:e)[o],s=f&&r?_(i,v):l&&"function"==typeof i?_(Function.call,i):i,h&&S(h,o,i,t&O.U),p[o]!=i&&m(p,o,s),l&&d[o]!=i&&(d[o]=i)};v.core=y,O.F=1,O.G=2,O.S=4,O.P=8,O.B=16,O.W=32,O.U=64,O.R=128,t.exports=O},function(t,n,e){var i=e(1),s=e(2),a=e(5),u=e(7)("src"),o="toString",r=Function[o],c=(""+r).split(o);e(6).inspectSource=function(t){return r.call(t)},(t.exports=function(t,n,e,o){var r="function"==typeof e;r&&(a(e,"name")||s(e,"name",n)),t[n]!==e&&(r&&(a(e,u)||s(e,u,t[n]?""+t[n]:c.join(String(n)))),t===i?t[n]=e:o?t[n]?t[n]=e:s(t,n,e):(delete t[n],s(t,n,e)))})(Function.prototype,o,function(){return"function"==typeof this&&this[u]||r.call(this)})},function(t,n,e){var o=e(18)("keys"),r=e(7);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,n,e){for(var o=e(30),r=e(24),i=e(14),s=e(1),a=e(2),u=e(10),c=e(0),l=c("iterator"),f=c("toStringTag"),h=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(p),v=0;v<d.length;v++){var y,m=d[v],S=p[m],_=s[m],g=_&&_.prototype;if(g&&(g[l]||a(g,l,h),g[f]||a(g,f,m),u[m]=h,S))for(y in o)g[y]||i(g,y,o[y],!0)}},function(t,n,e){var o=e(0)("unscopables"),r=Array.prototype;null==r[o]&&e(2)(r,o,{}),t.exports=function(t){r[o][t]=!0}},function(t,n,e){var o=e(6),r=e(1),i="__core-js_shared__",s=r[i]||(r[i]={});(t.exports=function(t,n){return s[t]||(s[t]=void 0!==n?n:{})})("versions",[]).push({version:o.version,mode:e(19)?"pure":"global",copyright:"¬© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,n){t.exports=!1},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){var o=e(3),r=e(1).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var o=e(41),r=e(27);t.exports=Object.keys||function(t){return o(t,r)}},function(t,n,e){var u=e(11),c=e(42),l=e(43);t.exports=function(a){return function(t,n,e){var o,r=u(t),i=c(r.length),s=l(e,i);if(a&&n!=n){for(;s<i;)if((o=r[s++])!=o)return!0}else for(;s<i;s++)if((a||s in r)&&r[s]===n)return a||s||0;return!a&&-1}}},function(t,n){var e=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?o:e)(t)}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,e){var o=e(8).f,r=e(5),i=e(0)("toStringTag");t.exports=function(t,n,e){t&&!r(t=e?t:t.prototype,i)&&o(t,i,{configurable:!0,value:n})}},function(t,n,e){e(55),t.exports=e(54)},function(t,n,e){"use strict";var o=e(17),r=e(33),i=e(10),s=e(11);t.exports=e(35)(Array,"Array",function(t,n){this._t=s(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,r(1)):r(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,n,e){t.exports=!e(4)&&!e(20)(function(){return 7!=Object.defineProperty(e(21)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){var r=e(3);t.exports=function(t,n){if(!r(t))return t;var e,o;if(n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;if("function"==typeof(e=t.valueOf)&&!r(o=e.call(t)))return o;if(!n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){var o=e(23);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,n,e){"use strict";var _=e(19),g=e(13),O=e(14),x=e(2),I=e(10),T=e(38),E=e(28),P=e(45),b=e(0)("iterator"),A=!([].keys&&"next"in[].keys()),C="values",w=function(){return this};t.exports=function(t,n,e,o,r,i,s){T(e,n,o);var a,u,c,l=function(t){if(!A&&t in d)return d[t];switch(t){case"keys":case C:return function(){return new e(this,t)}}return function(){return new e(this,t)}},f=n+" Iterator",h=r==C,p=!1,d=t.prototype,v=d[b]||d["@@iterator"]||r&&d[r],y=v||l(r),m=r?h?l("entries"):y:void 0,S="Array"==n&&d.entries||v;if(S&&(c=P(S.call(new t)))!==Object.prototype&&c.next&&(E(c,f,!0),_||"function"==typeof c[b]||x(c,b,w)),h&&v&&v.name!==C&&(p=!0,y=function(){return v.call(this)}),_&&!s||!A&&!p&&d[b]||x(d,b,y),I[n]=y,I[f]=w,r)if(a={values:h?y:l(C),keys:i?y:l("keys"),entries:m},s)for(u in a)u in d||O(d,u,a[u]);else g(g.P+g.F*(A||p),n,a);return a}},function(t,n,e){var i=e(37);t.exports=function(o,r,t){if(i(o),void 0===r)return o;switch(t){case 1:return function(t){return o.call(r,t)};case 2:return function(t,n){return o.call(r,t,n)};case 3:return function(t,n,e){return o.call(r,t,n,e)}}return function(){return o.apply(r,arguments)}}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){"use strict";var o=e(39),r=e(22),i=e(28),s={};e(2)(s,e(0)("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=o(s,{next:r(1,e)}),i(t,n+" Iterator")}},function(t,n,o){var r=o(9),i=o(40),s=o(27),a=o(15)("IE_PROTO"),u=function(){},c="prototype",l=function(){var t,n=o(21)("iframe"),e=s.length;for(n.style.display="none",o(44).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;e--;)delete l[c][s[e]];return l()};t.exports=Object.create||function(t,n){var e;return null!==t?(u[c]=r(t),e=new u,u[c]=null,e[a]=t):e=l(),void 0===n?e:i(e,n)}},function(t,n,e){var s=e(8),a=e(9),u=e(24);t.exports=e(4)?Object.defineProperties:function(t,n){a(t);for(var e,o=u(n),r=o.length,i=0;i<r;)s.f(t,e=o[i++],n[e]);return t}},function(t,n,e){var s=e(5),a=e(11),u=e(25)(!1),c=e(15)("IE_PROTO");t.exports=function(t,n){var e,o=a(t),r=0,i=[];for(e in o)e!=c&&s(o,e)&&i.push(e);for(;n.length>r;)s(o,e=n[r++])&&(~u(i,e)||i.push(e));return i}},function(t,n,e){var o=e(26),r=Math.min;t.exports=function(t){return 0<t?r(o(t),9007199254740991):0}},function(t,n,e){var o=e(26),r=Math.max,i=Math.min;t.exports=function(t,n){return(t=o(t))<0?r(t+n,0):i(t,n)}},function(t,n,e){var o=e(1).document;t.exports=o&&o.documentElement},function(t,n,e){var o=e(5),r=e(46),i=e(15)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),o(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,n,e){var o=e(12);t.exports=function(t){return Object(o(t))}},function(t,n,e){"use strict";var o=e(13),r=e(25)(!0);o(o.P,"Array",{includes:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),e(17)("includes")},function(t,n,e){"use strict";var o=e(13),r=e(49),i="includes";o(o.P+o.F*e(51)(i),"String",{includes:function(t){return!!~r(this,t,i).indexOf(t,1<arguments.length?arguments[1]:void 0)}})},function(t,n,e){var o=e(50),r=e(12);t.exports=function(t,n,e){if(o(n))throw TypeError("String#"+e+" doesn't accept regex!");return String(r(t))}},function(t,n,e){var o=e(3),r=e(23),i=e(0)("match");t.exports=function(t){var n;return o(t)&&(void 0!==(n=t[i])?!!n:"RegExp"==r(t))}},function(t,n,e){var o=e(0)("match");t.exports=function(n){var e=/./;try{"/./"[n](e)}catch(t){try{return e[o]=!1,!"/./"[n](e)}catch(t){}}return!0}},function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){"use strict";e.r(n);var a=["üçã","üçä","üçâ","üçà","üçá","ü•ù","üçì","üçí","üåü","üçÄ","üíé","üé∞"],o=[a,["üß£","‚õÑ","üéÑ","üéÅ","üéÄ","üçæ","üç∑","üîî","üåü","ü¶å","üéÖ"],["üåö","üéÉ","ü¶á","üòà","üß†","üëπ","üëΩ","ü§°","üëª","üßü‚Äç","üßõ‚Äç","üíÄ"],["üêû","üêü","üê≠","üê∏","üêì","üê∑","ü¶Ä","üêç","ü¶ä‚Äç","ü¶Å","ü¶ï","ü¶ñ"],["üéØ","üé±","üèê","‚õ≥","‚öæ","üèà","üèÄ","‚öΩ","ü•â","ü•à","ü•á","üèÜ"],["üíå","üéÅ","üì∏","üíò","üíã","üîû","üíë","üíç","üíé","üíñ"],["üé¥","üé≤","üï∂","ü•É","üí∑","üí¥","üíµ","üí∞","üçÄ","üíé","üé∞","üßû‚ÄçÔ∏è","üÉè"],["ü•¶","üçã","üçÜ","üçô","üçØ","üçë","üçì","üç≠","üç´","üç©","üçï","üçó","ü•©","üç£"]],h=o[Math.random()*o.length|0],d=(e(16),null);function c(t,n,e,o,r){var i,s,a=[n,e-.25*o,e+.125*o,e-.0625*o,e+.03125*o,e-.015625*o,e],u=n,c=0,l=a.map(function(t){var n=Math.max(Math.abs(t-u)/Math.abs(r),10);return u=t,c+=n,n}),f=0,h=l.map(function(t){var n=f+t/c*100;return f=n}).map(function(t,n){return Math.round(t)+"% { transform: rotate("+a[n].toFixed(2)+"deg); }"}).join("\n");return i=t,s=h,d||((d=document.createElement("style")).type="text/css",document.head.appendChild(d)),d.sheet.insertRule("@keyframes "+i+" {\n        "+s+"\n    }",d.length),c}e(47),e(48);var u=/iPad|iPhone|iPod/.test(navigator.platform||""),m=navigator.userAgent.toLowerCase().includes("firefox"),r=function(){function t(t,n){var e=this;void 0===n&&(n=16),this.sounds=[],this.nextSound=0,this.totalSounds=0;for(var o=this.sounds,r=0;r<n;++r)o.push(new Audio(t));o[0].oncanplay=function(){e.totalSounds=n}}return t.prototype.play=function(t){void 0===t&&(t=1);var n=this.sounds,e=this.nextSound,o=this.totalSounds,r=n[e];o&&r.paused&&(r.volume=t,r.play(),this.nextSound=(e+1)%o)},t}(),i=m?"ogg":"mp3",s=new r("./sounds/blip."+i,32),l=new r("./sounds/coin."+i),f=new r("./sounds/stop."+i),p=new r("./sounds/unlucky."+i),v=new r("./sounds/win."+i),y=function(){s.play.apply(s,arguments)},S=function(){l.play.apply(l,arguments)},_=function(){f.play.apply(f,arguments)},g=function(){p.play.apply(p,arguments)},O=function(){v.play.apply(v,arguments)},x=window.navigator,I=x.vibrate?x.vibrate.bind(x):function(){},T=[200,50,50,50,50,25,25,25,25,25,25,25,25],E=[25,25,25,25,25,25,25,25,50,50,50,50,50],P=function(){I(E)},b=function(){I(T)},A=!1,C=null;function w(){A=!0}function L(){A=!1}function M(){A&&(C(),A=!1)}function R(t,n,e,o){void 0===t&&(t=""),void 0===n&&(n=""),void 0===e&&(e=null),void 0===o&&(o=null);var r=document.createElement("DIV");return r.className=Array.isArray(t)?t.join(" "):t,"string"==typeof n?r.innerText=n:n&&r.appendChild(n),o&&(r.style=o),null!==e&&(r.style.transform="rotate("+e+"deg)"),r}var N=function(){function y(t,i,n,e){this.root=void 0,this.style=void 0,this.index=void 0,this.alpha=void 0,this.shadowCount=void 0,this.angle=0,this.stopAt=0,this.index=t,this.alpha=i;var o=y.C_REEL,s=y.C_CELL,r=y.C_CELL_SHADOW,a=y.C_CELL_BLUR,u=y.C_FIGURE,c=y.C_IS_STOP,l=y.V_INDEX,f=this.root=R([o,c]);if((this.style=f.style).setProperty(l,t),n){var h,p;p=m?(h=[s,r],.5):(h=[s,r,a],1);var d=this.shadowCount=Math.max(2,Math.round((e-.5-2*t)*Math.PI/n.length)),v=1/d;!function(t){for(var n=t.length-1;0<n;--n){var e=Math.floor(Math.random()*(n+1)),o=[t[e],t[n]];t[n]=o[0],t[e]=o[1]}}(n),n.forEach(function(t,n){var e=R(u,t),o=R(s,e,n*i);f.appendChild(o);for(var r=1;r<d;++r)f.appendChild(R(h,e.cloneNode(!0),i*(n+v*r),"opacity: "+p*(1-v*r)+"; "))})}}var t=y.prototype;return t.reset=function(){var t=this.root,n=this.style,e=this.stopAt;t.classList.remove("is-stop"),n.transform="rotate("+(this.angle=(360-e)%360)+"deg)",n.animation="",this.stopAt=0},t.stop=function(t,n){var e=this.alpha,o=this.root,r=(360-this.angle-n)%360,i=Math.ceil(r/e),s=i*e,a="stop-"+this.index,u=c(a,(360-r)%360,(360-s)%360,e,t)*y.STOP_ANIMATION_DURATION_MULTIPLIER;return this.stopAt=s,this.style.animation=a+" "+u+"ms ease-out forwards",o.classList.add(y.C_IS_STOP),(o.children[i*this.shadowCount]||o.children[0]).innerText},y}();N.C_REEL="sm__reel",N.C_CELL="sm__cell",N.C_CELL_SHADOW="sm__cell--has-shadow",N.C_CELL_BLUR="sm__cell--has-blur",N.C_FIGURE="sm__figure",N.C_IS_STOP="is-stop",N.V_INDEX="--index",N.STOP_ANIMATION_DURATION_MULTIPLIER=5;e(52);var k=function(){function p(t,n,e,o,r,i){var s;void 0===o&&(o=3),void 0===r&&(r=a),void 0===i&&(i=-.8),this.wrapper=void 0,this.root=document.querySelector(p.S_BASE),this.reelsContainer=document.querySelector(p.S_REELS_CONTAINER),this.display=document.querySelector(p.S_DISPLAY),this.reels=[],this.blipFading=void 0,this.reelCount=void 0,this.symbols=void 0,this.alpha=void 0,this.speed=void 0,this.zoomTransitionTimeoutID=null,this.currentCombination=[],this.currentPrize=null,this.currentReel=null,this.blipCounter=0,this.lastUpdate=0,this.init(t,n,e,o,r,i),window.onresize=this.handleResize.bind(this),document.onkeydown=this.handleKeyDown.bind(this),s=this.handleClick.bind(this),C=s,u?(document.ontouchstart=w,document.ontouchmove=L,document.ontouchcancel=L,document.ontouchend=M):document.onclick=s}var t=p.prototype;return t.init=function(t,n,e,o,r,i){this.wrapper=t,this.handleUseCoin=n,this.handleGetPrice=e,this.reelCount=o,this.symbols=r,this.speed=i,this.blipFading=1/o;var s=this.alpha=360/r.length,a=[].concat(r),u=2*o+p.UNITS_CENTER;this.resize(),m&&this.root.style.setProperty(p.V_SHADOW_WEIGHT,p.FIREFOX_SHADOW_WEIGHT);for(var c=this.reelsContainer,l=this.reels,f=0;f<o;++f){var h=new N(f,s,a,u);c.appendChild(h.root),l.push(h)}c.appendChild(new N(o).root)},t.start=function(){var t=this;this.handleUseCoin(),this.currentCombination=[],this.currentPrize=null,this.currentReel=0,this.zoomOut(),this.reels.forEach(function(t){return t.reset()}),d&&(d.remove(),d=null),S(),P(),this.lastUpdate=performance.now(),requestAnimationFrame(function(){return t.tick()})},t.stop=function(){this.currentReel=null,this.zoomIn();var t=this.currentPrize;t?(O(),this.handleGetPrice.apply(this,t)):g()},t.tick=function(){var t=this,n=this.reels,e=this.speed,o=this.currentReel,r=this.lastUpdate,i=performance.now(),s=(i-r)*e;if(null!==o){0===(this.blipCounter=(this.blipCounter+1)%p.BLIP_RATE)&&y(1-this.blipFading*o),this.lastUpdate=i;for(var a=n.length-1;o<=a;--a){var u=n[a],c=u.angle=(360+(u.angle+s))%360;u.style.transform="rotate("+c+"deg)"}requestAnimationFrame(function(){return t.tick()})}},t.zoomIn=function(){this.zoom()},t.zoomOut=function(){this.zoom(!0)},t.zoom=function(t){void 0===t&&(t=!1),clearTimeout(this.zoomTransitionTimeoutID);var n=this.root;n.style.transition=p.ZOOM_TRANSITION,n.classList[t?"remove":"add"](p.C_HAS_ZOOM),this.zoomTransitionTimeoutID=setTimeout(function(){n.style.transition=""},p.ZOOM_TRANSITION_DURATION)},t.resize=function(){var t=this.wrapper,n=this.root,e=this.reelCount,o=this.display,r=n.style,i=t.offsetWidth,s=t.offsetHeight,a=Math.min(i,s)-p.APP_PADDING,u=a/(2*e+p.UNITS_TOTAL)|0;r.setProperty(p.V_WRAPPER_SIZE,a+"px"),r.setProperty(p.V_REEL_SIZE,u+"px"),r.setProperty(p.V_DISPLAY_SIZE,u*e+"px"),r.setProperty(p.V_DISPLAY_ZOOM,""+n.offsetWidth/o.offsetWidth)},t.stopReel=function(t){var n=this.speed,e=(performance.now()-this.lastUpdate)*n;this.currentCombination.push(this.reels[t].stop(n,e)),this.checkPrize(),_(),b()},t.checkPrize=function(){for(var t=this.currentReel,n=this.currentCombination,e=this.reelCount,o=this.symbols,r={},i=0,s="",a="",u=0,c=0;c<t;++c){var l=n[c],f=r[l]=s===l?r[l]+1:1;if(s=l,i<f){i=f;var h=o.indexOf(l);o.indexOf(a)<h&&(a=l,u=h+1)}}2<i&&(this.currentPrize=[u,i*(u/o.length)/e])},t.handleResize=function(){var t=this;requestAnimationFrame(function(){return t.resize()})},t.handleKeyDown=function(t){var n=t.key;" "!==n&&"Enter"!==n||this.handleClick()},t.handleClick=function(){var t=this.currentReel;null===t?this.start():(++this.currentReel,this.stopReel(t),t===this.reels.length-1&&this.stop())},p}();k.C_HAS_ZOOM="has-zoom",k.S_BASE=".sm__base",k.S_REELS_CONTAINER=".sm__reelsContainer",k.S_DISPLAY=".sm__display",k.V_WRAPPER_SIZE="--wrapperSize",k.V_REEL_SIZE="--reelSize",k.V_DISPLAY_SIZE="--displaySize",k.V_DISPLAY_ZOOM="--displayZoom",k.V_SHADOW_WEIGHT="--shadowWeight",k.UNITS_CENTER=3,k.UNITS_MARGIN=1,k.UNITS_TOTAL=k.UNITS_CENTER+k.UNITS_MARGIN,k.ZOOM_TRANSITION="transform ease-in-out 500ms 250ms",k.ZOOM_TRANSITION_DURATION=1e3,k.BLIP_RATE=4,k.FIREFOX_SHADOW_WEIGHT=.5,k.APP_PADDING=32;e(53);var j=function(){function f(){this.coinsElement=document.querySelector(f.S_COINS),this.jackpotElement=document.querySelector(f.S_JACKPOT),this.spinsElement=document.querySelector(f.S_SPINS),this.mainElement=document.querySelector(f.S_MAIN),this.coins=parseInt(localStorage.coins,10)||100,this.jackpot=parseInt(localStorage.jackpot,10)||1e3,this.spins=parseInt(localStorage.spins,10)||0,this.lastSpin=localStorage.lastSpin||0;var t=Date.now();t-this.lastSpin>=f.ONE_DAY&&(localStorage.jackpot=this.jackpot=0|Math.max(500,this.jackpot-500+1e3*Math.random()),localStorage.lastSpin=t);var n,e,o,r=new k(this.mainElement,this.handleUseCoin.bind(this),this.handleGetPrice.bind(this),5,h),i=r.speed,s=function(){console.log("Ok... üëå"),setTimeout(function(){console.log(n)},5e3)},a=function(){r.speed=i/100,n="Ok, really... Last chance. Do yo want to go back to normal mode? üò†",e=u,o=s,console.log("Ok, but we are calling the cops... üöî"),console.log("Do you want to stop this before it's too late?")},u=function(){r.speed=i,n="I'm sure you are gonna like it...? Wanna play in God mode? üòè üí∞",e=a,o=s,console.log("Playing in normal mode."),console.log("Wanna switch to God mode? üòè")};u();var c=function(){e()},l=function(){o()};Object.defineProperties(window,{yes:{get:c},no:{get:l},Yes:{get:c},No:{get:l}}),this.refreshView()}var t=f.prototype;return t.handleUseCoin=function(){localStorage.coins=this.coins=Math.max(this.coins-1,0)||100,localStorage.jackpot=++this.jackpot,localStorage.spins=++this.spins,localStorage.lastSpin=this.lastSpin=Date.now(),this.refreshView()},t.handleGetPrice=function(t,n){var e=t+Math.round(n*this.jackpot);localStorage.jackpot=this.jackpot=Math.max(this.jackpot-e,0)||1e3,localStorage.coins=this.coins+=e,this.refreshView()},t.refreshView=function(){this.coinsElement.innerText=this.coins,this.jackpotElement.innerText=this.jackpot,this.spinsElement.innerText=this.spins},f}();j.S_COINS="#coins",j.S_JACKPOT="#jackpot",j.S_SPINS="#spins",j.S_MAIN="#main",j.ONE_DAY=864e5,new j}]);</script></body></html>